<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brutal Pusher - Stop Procrastinating!</title>
    <meta name="description" content="A brutal but humorous anti-procrastination tool">
    <meta name="theme-color" content="#dc2626">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Styles -->
    <style>
        .brutal-button {
            @apply bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg 
                   transform hover:scale-105 transition-all duration-200 shadow-lg;
        }
        
        .brutal-card {
            @apply bg-white rounded-xl shadow-lg border-2 border-orange-500 p-6;
        }
        
        .brutal-text {
            @apply text-red-600 font-bold text-lg;
        }
        
        .shake {
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .pulse-brutal {
            animation: pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #fef2f2 0%, #fed7aa 100%);
        }
        
        .step-item {
            @apply flex items-start gap-3 p-3 bg-orange-50 rounded-lg cursor-pointer transition-colors;
        }
        
        .step-item.completed {
            @apply bg-green-50 border-2 border-green-200;
        }
        
        .step-item:hover {
            @apply bg-orange-100;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-red-600 mb-2">
                üíÄ Brutal Pusher üíÄ
            </h1>
            <p class="text-gray-600">Stop procrastinating, you lazy potato! ü•î</p>
        </header>

        <!-- Main Content -->
        <main class="max-w-2xl mx-auto">
            <!-- Step 1: Task Input -->
            <div id="taskStep" class="brutal-card">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-white text-2xl">üéØ</span>
                    </div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">
                        What do you want to accomplish?
                    </h2>
                    <p class="text-gray-600">
                        Tell me what you're procrastinating on, you magnificent slacker! üò§
                    </p>
                </div>

                <form id="taskForm" class="space-y-4">
                    <div>
                        <textarea
                            id="taskInput"
                            placeholder="I want to... (be specific, you lazy human!)"
                            class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-red-600 focus:outline-none resize-none"
                            rows="4"
                            required
                        ></textarea>
                    </div>
                    
                    <button
                        type="submit"
                        class="brutal-button w-full flex items-center justify-center gap-2"
                    >
                        ‚ö° Break it down, you procrastinator!
                    </button>
                </form>
            </div>

            <!-- Step 2: Excuse Input -->
            <div id="excuseStep" class="brutal-card hidden">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-white text-2xl">‚ùå</span>
                    </div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">
                        What's your excuse today?
                    </h2>
                    <p class="text-gray-600">
                        Come on, tell me why you're being a lazy potato! ü•î
                    </p>
                </div>

                <div class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-3" id="excuseGrid">
                        <!-- Excuses will be populated by JavaScript -->
                    </div>

                    <div class="border-t pt-4">
                        <form id="customExcuseForm" class="space-y-3">
                            <input
                                type="text"
                                id="customExcuseInput"
                                placeholder="Or type your own pathetic excuse..."
                                class="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-orange-500 focus:outline-none"
                            />
                            <button
                                type="submit"
                                class="brutal-button w-full flex items-center justify-center gap-2"
                            >
                                ‚ûï Submit your lame excuse!
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Step 3: Brutal Motivation -->
            <div id="motivationStep" class="space-y-6 hidden">
                <div class="brutal-card">
                    <div class="text-center mb-4">
                        <div class="w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-white text-2xl">üî•</span>
                        </div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">
                            Your Brutal Motivation
                        </h2>
                    </div>
                    
                    <div id="motivationText" class="bg-red-50 border-2 border-red-600 rounded-lg p-4 mb-4">
                        <p class="text-lg font-semibold text-red-600 leading-relaxed">
                            Generating your brutal motivation...
                        </p>
                    </div>

                    <button
                        id="startWorkingBtn"
                        class="brutal-button w-full flex items-center justify-center gap-2"
                    >
                        ‚è∞ Start working, you lazy human!
                    </button>
                </div>

                <div class="brutal-card">
                    <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                        <span class="text-orange-500">‚úÖ</span>
                        Your Action Plan
                    </h3>
                    
                    <div id="breakdownList" class="space-y-3">
                        <!-- Steps will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Step 4: Progress Tracker -->
            <div id="progressStep" class="space-y-6 hidden">
                <div class="brutal-card">
                    <div class="text-center mb-6">
                        <div class="w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-white text-2xl">üèÜ</span>
                        </div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">
                            Progress Tracker
                        </h2>
                        <p class="text-gray-600">Don't stop now, you're doing great! üí™</p>
                    </div>

                    <div class="space-y-4">
                        <div class="text-center">
                            <div id="timer" class="text-3xl font-bold text-red-600 mb-2">
                                00:00:00
                            </div>
                            <p class="text-gray-600">Time spent working</p>
                        </div>

                        <div class="space-y-2">
                            <div class="flex justify-between text-sm">
                                <span>Progress</span>
                                <span id="progressPercent">0%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div 
                                    id="progressBar"
                                    class="bg-red-600 h-2 rounded-full transition-all duration-300"
                                    style="width: 0%"
                                ></div>
                            </div>
                        </div>

                        <div class="flex gap-2">
                            <button
                                id="pauseBtn"
                                class="flex-1 brutal-button"
                            >
                                ‚è∏Ô∏è Pause
                            </button>
                            <button
                                id="restartBtn"
                                class="flex-1 bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-lg transition-colors"
                            >
                                üîÑ New Task
                            </button>
                        </div>
                    </div>
                </div>

                <div class="brutal-card">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Your Steps</h3>
                    <div id="progressSteps" class="space-y-3">
                        <!-- Progress steps will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- JavaScript -->
    <script>
        // Global state
        let currentStep = 'task';
        let taskData = {
            task: '',
            excuse: '',
            breakdown: [],
            motivation: ''
        };
        let timer = null;
        let timeElapsed = 0;
        let isTimerRunning = true;
        let completedSteps = [];

        // Common excuses
        const commonExcuses = [
            "I'm too tired",
            "I'll do it tomorrow",
            "I don't know where to start",
            "It's too hard",
            "I'm not in the mood",
            "I'm too busy",
            "I need to check my phone first",
            "I'll do it later"
        ];

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            populateExcuses();
            setupEventListeners();
        });

        function populateExcuses() {
            const excuseGrid = document.getElementById('excuseGrid');
            commonExcuses.forEach(excuse => {
                const button = document.createElement('button');
                button.className = 'p-3 text-left border-2 border-gray-200 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-colors';
                button.textContent = excuse;
                button.onclick = () => selectExcuse(excuse);
                excuseGrid.appendChild(button);
            });
        }

        function setupEventListeners() {
            // Task form
            document.getElementById('taskForm').addEventListener('submit', handleTaskSubmit);
            
            // Custom excuse form
            document.getElementById('customExcuseForm').addEventListener('submit', handleCustomExcuse);
            
            // Start working button
            document.getElementById('startWorkingBtn').addEventListener('click', startProgress);
            
            // Progress controls
            document.getElementById('pauseBtn').addEventListener('click', toggleTimer);
            document.getElementById('restartBtn').addEventListener('click', restartApp);
        }

        function handleTaskSubmit(e) {
            e.preventDefault();
            const task = document.getElementById('taskInput').value.trim();
            if (task) {
                taskData.task = task;
                showStep('excuse');
            }
        }

        function selectExcuse(excuse) {
            taskData.excuse = excuse;
            generateMotivation();
        }

        function handleCustomExcuse(e) {
            e.preventDefault();
            const excuse = document.getElementById('customExcuseInput').value.trim();
            if (excuse) {
                taskData.excuse = excuse;
                generateMotivation();
            }
        }

        function generateMotivation() {
            // Generate brutal motivation based on task and excuse
            const motivations = [
                `Listen here, you magnificent procrastinator! "${taskData.excuse}"? That's the lamest excuse I've ever heard! Your ${taskData.task} isn't going to do itself, you lazy potato! ü•î`,
                `Oh, you're "${taskData.excuse}"? Well, your goals don't care about your feelings! Stop being a professional excuse maker and start being a goal achiever! üíÄ`,
                `"${taskData.excuse}"? Seriously? That's what you're going with? Your future self is already disappointed in you! Time to stop being a couch potato and start being a success potato! üöÄ`,
                `Excuse me, but "${taskData.excuse}" is not a valid reason to avoid ${taskData.task}! Your procrastination skills are impressive, but your achievement skills are non-existent! Time to change that! ‚ö°`
            ];
            
            taskData.motivation = motivations[Math.floor(Math.random() * motivations.length)];
            
            // Generate task breakdown
            taskData.breakdown = generateBreakdown(taskData.task);
            
            showStep('motivation');
            displayMotivation();
            displayBreakdown();
        }

        function generateBreakdown(task) {
            const breakdowns = {
                'study': ['Clear your desk and remove distractions', 'Open your textbook and read one chapter', 'Take notes on key points', 'Review and summarize what you learned'],
                'work': ['Check your email and prioritize tasks', 'Start with the most important task', 'Take short breaks every 25 minutes', 'Review your progress and adjust'],
                'exercise': ['Put on your workout clothes', 'Do a 5-minute warm-up', 'Start with 10 minutes of cardio', 'Add strength training exercises'],
                'clean': ['Pick up trash and put it in the bin', 'Put away items that are out of place', 'Wipe down surfaces with a cloth', 'Vacuum or sweep the floor'],
                'write': ['Open a blank document', 'Write down your main ideas', 'Start with the first paragraph', 'Keep writing without editing']
            };
            
            // Try to match task with predefined breakdowns
            for (let key in breakdowns) {
                if (task.toLowerCase().includes(key)) {
                    return breakdowns[key];
                }
            }
            
            // Default breakdown
            return [
                'Break down your task into smaller parts',
                'Start with the easiest step first',
                'Set a timer for 25 minutes and focus',
                'Take a short break and continue',
                'Review your progress and celebrate small wins'
            ];
        }

        function displayMotivation() {
            const motivationText = document.getElementById('motivationText');
            motivationText.innerHTML = `<p class="text-lg font-semibold text-red-600 leading-relaxed">${taskData.motivation}</p>`;
        }

        function displayBreakdown() {
            const breakdownList = document.getElementById('breakdownList');
            breakdownList.innerHTML = '';
            
            taskData.breakdown.forEach((step, index) => {
                const stepDiv = document.createElement('div');
                stepDiv.className = 'flex items-start gap-3 p-3 bg-orange-50 rounded-lg';
                stepDiv.innerHTML = `
                    <span class="bg-orange-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold">
                        ${index + 1}
                    </span>
                    <p class="text-gray-700">${step}</p>
                `;
                breakdownList.appendChild(stepDiv);
            });
        }

        function startProgress() {
            showStep('progress');
            startTimer();
            displayProgressSteps();
        }

        function startTimer() {
            timer = setInterval(() => {
                if (isTimerRunning) {
                    timeElapsed++;
                    updateTimer();
                }
            }, 1000);
        }

        function updateTimer() {
            const hours = Math.floor(timeElapsed / 3600);
            const minutes = Math.floor((timeElapsed % 3600) / 60);
            const seconds = timeElapsed % 60;
            
            document.getElementById('timer').textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function toggleTimer() {
            isTimerRunning = !isTimerRunning;
            const pauseBtn = document.getElementById('pauseBtn');
            pauseBtn.innerHTML = isTimerRunning ? '‚è∏Ô∏è Pause' : '‚ñ∂Ô∏è Resume';
        }

        function displayProgressSteps() {
            const progressSteps = document.getElementById('progressSteps');
            progressSteps.innerHTML = '';
            
            taskData.breakdown.forEach((step, index) => {
                const stepDiv = document.createElement('div');
                stepDiv.className = 'step-item';
                stepDiv.onclick = () => toggleStep(index);
                stepDiv.innerHTML = `
                    <span class="text-gray-400 text-xl">‚úÖ</span>
                    <span>${step}</span>
                `;
                progressSteps.appendChild(stepDiv);
            });
        }

        function toggleStep(index) {
            const stepItems = document.querySelectorAll('.step-item');
            const stepItem = stepItems[index];
            
            if (completedSteps.includes(index)) {
                completedSteps = completedSteps.filter(i => i !== index);
                stepItem.classList.remove('completed');
                stepItem.querySelector('span').className = 'text-gray-400 text-xl';
            } else {
                completedSteps.push(index);
                stepItem.classList.add('completed');
                stepItem.querySelector('span').className = 'text-green-600 text-xl';
            }
            
            updateProgress();
        }

        function updateProgress() {
            const progress = taskData.breakdown.length > 0 ? (completedSteps.length / taskData.breakdown.length) * 100 : 0;
            document.getElementById('progressPercent').textContent = `${Math.round(progress)}%`;
            document.getElementById('progressBar').style.width = `${progress}%`;
        }

        function restartApp() {
            if (timer) {
                clearInterval(timer);
            }
            
            // Reset state
            currentStep = 'task';
            taskData = { task: '', excuse: '', breakdown: [], motivation: '' };
            timeElapsed = 0;
            isTimerRunning = true;
            completedSteps = [];
            
            // Reset UI
            document.getElementById('taskInput').value = '';
            document.getElementById('customExcuseInput').value = '';
            document.getElementById('timer').textContent = '00:00:00';
            document.getElementById('progressPercent').textContent = '0%';
            document.getElementById('progressBar').style.width = '0%';
            
            showStep('task');
        }

        function showStep(step) {
            // Hide all steps
            document.getElementById('taskStep').classList.add('hidden');
            document.getElementById('excuseStep').classList.add('hidden');
            document.getElementById('motivationStep').classList.add('hidden');
            document.getElementById('progressStep').classList.add('hidden');
            
            // Show current step
            document.getElementById(step + 'Step').classList.remove('hidden');
            currentStep = step;
        }
    </script>
</body>
</html>
